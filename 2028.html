<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Concours √âpelle-moi - Mode clair/sombre</title>
<style>
  :root {
    --bg-light: #f9f9f9;
    --text-light: #222;
    --bg-dark: #121212;
    --text-dark: #eee;
    --primary-color: #007bff;
    --btn-bg: #007bff;
    --btn-text: white;
    --btn-hover-bg: #0056b3;
    --input-bg-light: #fff;
    --input-bg-dark: #333;
    --input-text-light: #222;
    --input-text-dark: #eee;
  }

  body {
    background-color: var(--bg-light);
    color: var(--text-light);
    font-family: Arial, sans-serif;
    padding: 20px;
    transition: background-color 0.3s, color 0.3s;
  }
  body.dark {
    background-color: var(--bg-dark);
    color: var(--text-dark);
  }

  #container {
    max-width: 500px;
    margin: auto;
    text-align: center;
  }

  #wordDisplay {
    font-size: 2em;
    margin: 20px 0;
    min-height: 48px;
  }

  input[type="text"] {
    width: 100%;
    font-size: 1.2em;
    padding: 8px;
    margin-bottom: 10px;
    border: 1px solid #ccc;
    border-radius: 4px;
    background-color: var(--input-bg-light);
    color: var(--input-text-light);
    transition: background-color 0.3s, color 0.3s;
  }
  body.dark input[type="text"] {
    background-color: var(--input-bg-dark);
    color: var(--input-text-dark);
    border: 1px solid #555;
  }

  button {
    background-color: var(--btn-bg);
    color: var(--btn-text);
    border: none;
    padding: 10px 15px;
    margin: 5px 3px;
    border-radius: 5px;
    font-size: 1em;
    cursor: pointer;
    transition: background-color 0.3s;
  }
  button:hover:not(:disabled) {
    background-color: var(--btn-hover-bg);
  }
  button:disabled {
    background-color: #888;
    cursor: default;
  }

  #message {
    margin: 15px 0;
    min-height: 24px;
  }

  #modeToggle {
    position: fixed;
    top: 15px;
    right: 15px;
    background-color: transparent;
    color: inherit;
    border: 2px solid currentColor;
    padding: 6px 12px;
    border-radius: 5px;
    font-weight: bold;
  }

  /* Responsive */
  @media (max-width: 600px) {
    #container {
      width: 90%;
      padding: 10px;
    }
  }
</style>
</head>
<body>
<div id="container">
  <h1>Concours √âpelle-moi</h1>
  <div id="wordDisplay"></div>
  <input id="answer" type="text" autocomplete="off" placeholder="√âcrivez le mot ici" />
  <div>
    <button id="btnVerify">V√©rifier</button>
  </div>
  <div>
    <button id="btnBack">‚Üê Mot pr√©c√©dent</button>
    <button id="btnPlay">‚ñ∂ Jouer</button>
    <button id="btnSlow">üê¢ Lent</button>
    <button id="btnFast">üêá Rapide</button>
    <button id="btnRepeat">üîÅ R√©p√©ter</button>
    <button id="btnSkip">‚è≠ Sauter</button>
  </div>
  <div id="message"></div>
</div>

<button id="modeToggle">Mode Sombre</button>

<script>
  const words = [
    "autel","bataille","ch√¥mage","documentaire","√©tang","force","gazouiller","hache",
    "atome","bibliographie","crustac√©","documentaliste","√©rosion","fantastique","gam√®te","hormone",
    "altercation","bip√®de","conductible","dictionnaire","√©tiquette","fant√¥me","gyn√©cologue","herbivore",
    "acide","bourgeon","croquis","d√©limitation","√©cart","format","gentiment","harmonieux",
    "amplitude","bidonville","cylindre","descendre","√©paisseur","fonctionnement","gabarit","hypoth√®se",
    "analogie","bissectrice","contrebasse","dent","√©go√Øste","fr√©tiller","galanterie","hypermarch√©",
    "ant√©c√©dent","bissextile","cyclope","d√©soler","√©quilat√©ral","faillite","g√¢chis","humanit√©",
    "anaphore","bouillir","cellule","dispara√Ætre","expression","facturation","gangr√®ne","hippopotame",
    "antipathie","botanique","cancer","dollar","esquisse","fluidifier","galipette","hirondelle",
    "arch√©ologie","bonheur","c√¢ble","doigt","emprunt","f≈ìtus","gargouiller","heurter",
    "anticorps","banquette","chronologie","d√©esse","enceinte","fanfare","garde-robe","honn√™tet√©",
    "anatomie","bient√¥t","compas","devis","√©lectron","fertilit√©","gencive",
    "aquatique","bicyclette","calomnie","d√©duction","√©clipse","furieux","g√©n√©ralement","illustrateur",
    "anecdote","bapt√™me","chorale","d√©veloppement","euphorie","frayeur","gentillesse","inflation",
    "abonnement","b√©gayer","corail","diff√©remment","euph√©misme","fugitif","ghetto","impersonnel",
    "absence","barbecue","concentration","d√©gradation","extinction","fraiseuse","glaciaire","isoloir",
    "abr√©ger","bact√©rie","carambolage","discriminatoire","√©querre","fabuleux","index",
    "abyme","bracelet","concubin","diff√©rencier","√©bauche","fain√©ant","harceler","int√©rieur",
    "accueil","boulang√®re","conteneur","d√©localisation","√©b√®ne","faisable","happer","industrie",
    "actuellement","br√ªler","cadenasser","d√©mangeaison","√©pith√®te","falsifier","handicap","impression",
    "adh√©sion","baroque","chromosome","dilemme","estomac","favoritisme","homog√®ne","insecte",
    "agenda","boulevard","compas","d√©sarroi","√©pilogue","humain","information",
    "affliger","banquise","circonflexe","dinosaure","√©picentre","g√©ologue","harpie","indigo",
    "all√©gorie","bourgeonner","contraception","dissolution","effigie","gestionnaire","hamster","intol√©rance",
    "anesth√©sie","bain-marie","contemporain","d√©magogie","embo√Æter","gouache","humain","infinitif",
    "antiquaire","bafouer","commettre","douillet","√©carquiller","gravitation","hectare","inondation",
    "apostrophe","barrette","coefficient","droiture","graffiti","hypot√©nuse","induction",
    "appara√Ætre","boycotter","confidentialit√©","dubitatif","f√©condation","g√©ant","hauteur","impulsion",
    "agglom√©ration","bouilloire","caoutchouc","durablement","fr√©quence","gestion","horticulture","int√©ressant",
    "amertume","bizutage","chronom√®tre","dyslexie","fossile","g√©nocide","hi√©rarchie","isoc√®le",
    "assiduit√©","balbutier","cynique","dor√©navant","fusain","grammaire","hypocrisie","internet",
    "all√©gresse","bouddhisme","claustrophobe","faille","genre","hydratant","illusion",
    "appendice","biodiversit√©","crainte","√©cho","fasciste","gradation","homicide","invention",
    "adjacent","bioclimatique","couveuse","√©chapper","fascination","gouvernement","hasard","impair",
    "antis√©mitisme","banlieue","couvre-feu","√©ch√©ance","fresque","grenade","hibiscus","interrogation",
    "asphyxie","biennale","craquement","emphatique","faisceau","graphisme","hostile","inoubliable",
    "anonyme","bienfait","entreprise","f√©d√©ration","grenouill√®re","harmonie","incorrigible",
    "anaconda","bifteck","d√©bris","esclavage","famine","griffon","hospitalier","importer",
    "auparavant","bimestriel","d√©contract√©","endurance","friable","gesticuler","herse","innocent",
    "accumulation","bistouri","d√©cennie","emploi","fr√©quence","guitariste","humanisme","ingr√©dient",
    "accouplement","biochimie","d√©c√®s","explicatif","formule","grappe","hi√©roglyphe","infraction",
    "acrobatie","d√©mographie","enthousiasme","fiche","gratte-ciel","hectare","ic√¥ne",
    "affranchir","climat","devise","√©nonciation","fraction","gladiateur","hypot√©nuse","inversion",
    "abstention","compassion","discrimination","√©lection","facteur","gaspillage","hyperbole","instaurer",
    "abstinence","comparaison","dioxyde","essor","figure","gentilhomme","hommage","immortaliser",
    "arbrisseau","calendrier","diminution","engagement","fl√ªte","griffer","haut-parleur","int√®gre",
    "calculatrice","d√©nouement","√©meraude","fragile","guillemet","h√©r√©dit√©","intention",
    "b√¢iller","crayon","d√©mocratie","enzyme","fond","ginseng","homophone","iceberg",
    "budget","contour","d√©sodorisant","entrep√¥t","falloir","gymnase","h√©ros","interrupteur",
    "beaucoup","collectivit√©","dissoudre","exp√©rience","front","grossesse","habitat","insolent",
    "ballade","charte","distillation","espace","frapper","go√ªt","hymne","intellectuel",
    "b√¢timent","cercueil","d√©rivation","√©tendue","fen√™tre","go√©land","hyst√©rie","infaisable",
    "intervalle","loi","marionnette","naus√©e","path√©tique","quadruple","suffixe","travailler",
    "ill√©galit√©","laudatif","ma√Øpouri","navette","papyrus","quereller","syntax","toucher",
    "identification","littoral","magistrat","n√©gligence","plasticien","qualit√©","syndicat","toile",
    "igloo","lyrique","mascotte","n√©vrose","perspective","quartier","seigneur","trompette",
    "idiotie","logique","meilleur","n≈ìud","percussion","quitter","sc√®ne","tambourin",
    "idol√¢trer","largeur","monast√®re","noisette","pr√©cipiter","quadrilat√®re","sympathique","th√©rapeutique",
    "liquide","m√©diatrice","nonchalance","perpendiculaire","scrutin","toupie",
    "juxtaposition","local","millionnaire","nombril","pollution","reconnaissance","strophe","thermom√®tre",
    "juge","logiciels","m√©tamorphose","notamment","polyth√©iste","r√©sistant","somme","taureau",
    "journal","lunette","m√¢cher","nucl√©aire","po√®me","rayon","semaine","tyrannie",
    "journaliste","lumi√®re","monstrueux","nourrisson","probl√®me","r√©publique","symphonie","terroriste",
    "jadis","lentille","misogyne","personne","renaissance","suggestion","trap√®ze",
    "jamais","libert√©","migrant","orchid√©e","path√©tique","r√®glement","s√©rieux","tressaillir",
    "jeunesse","lieutenant","mutation","orchestration","pr√©fixe","racisme","silencieux","trahison",
    "justice","louveteau","m√¢choire","opticien","psychologique","r√©sultat","science","transsexuel",
    "joyeux","ludoth√®que","maigreur","oxyg√®ne","pr√©sident","rivi√®re","seconde","tremplin",
    "joie","lusophone","magn√©sium","orientation","prix","record","souffrir","trach√©e",
    "jambe","lac√©rer","maillon","≈ìil","p√©trole","rectangle","sembler","transmutation",
    "journaux","leuc√©mie","maintien","oreille","pape","rassasier","serrer","tromper",
    "jaunisse","litt√©ral","majestueux","ombre","pharaon","reste","sculpture","tron√ßonneuse",
    "joncher","loyer","orthographe","patin","rapporteur","souffle",
    "jouissance","lucidit√©","naturel","occasionnellement","processus","relatif","sceptre","veill√©e",
    "jonquille","loquace","narrateur","oser","proportion","r√®gle","s√©diment","vermeille",
    "juv√©nile","labyrinthe","nouveaut√©","onde","peut-√™tre","ramifier","synchroniser","vieillesse",
    "justifier","l√¢cher","nouvelle","orchestre","plut√¥t","r√©solution","sceau","vid√©oprojecteur",
    "jubiler","navigateur","ordonnance","pur√©e","ronronner","s√©dentaire","vainqueur",
    "joyau","monarchie","nettoyage","opinion","plong√©e","rituel","sagittaire","vestiaire",
    "joaillerie","maritime","n√©cessaire","ob√©sit√©","polyglotte","rh√©torique","sceptique","variable",
    "jogging","monoth√©iste","na√Ætre","organe","p√©rip√©tie","restreint","syst√©matique","ventilation",
    "mourir","nutrition","oc√©an","pourcentage","rhinoc√©ros","souverain","vocif√©rer",
    "kiwi","m√©daille","noyau","ouragan","psychopathe","r√©cepteur","synonyme","velours",
    "kilom√®tre","mondialisation","nourrir","octet","patrimoine","rayonnement","scintiller","vieillard",
    "ketchup","mus√©e","n√©nuphar","organisation","polyphonie","r√©pertoire","subjuguer","vingtaine",
    "klaxonner","moine","n√©anmoins","outil","paratexte","rancoeur","sanctuaire","verglas",
    "kidnapper","ministre","n√©ant","odorat","patiemment","rejoindre","sarcophage","vendange",
    "kilowatt","mortalit√©","nuance","ou√Øe","propagande","r√©flexion","sonnet",
    "kiosque","mythe","nymphe","orpaillage","pression","raquette","segment",
    "kung-fu","m√©diane","noyau","≈ìuvre","printemps","rabbin","silhouette",
    "kermesse","mammif√®re","n√©gatif","oxyg√®ne","p√©riph√©rie","r√©troprojecteur","statistique",
    "m√©taphore","noblesse","op√©ration","p√¢tisserie","relique",
    "landau","mosa√Øque","natation","orchestre","pitoyable","recueil","technique",
    "laur√©at","m√©galopole","naturalisation","oxymore","p√©rilleux","renouement","ti√®de",
    "licenciement","m√©tropole","neutre","oreillette","p√©riodique","radioactif","th√©√¢tre",
    "litt√©rature","messagerie","nostalgie","opaque","p√©remption","r√©f√©rendum","tangente",
    "lutter","motion","natalit√©","omniscient","royaume","tol√©rance",
    "lettre","mol√©cules","nature","occurrence","quiproquo","renouvelable","th√®se",
    "libert√©","mouvement","nombre","≈ìsophage","quotient","th√©or√®me",
    "la√Øque","mangrove","navire","orthodoxe","quart","sceau","tonalit√©",
    "localisation","messager","nuque","ob√®se","quatuor","sc√©nario","toile",
    "lexical","m√©thode","nuisance","quotidien","salaire","th√®me",
    "l√©gislatif","merveille","num√©rique","pyramide","qualificatif","syndrome","tourment",
    "lutte","m√©chancet√©","nuageux","parenth√®se","quelconque","stylistique","temps"
  ];

  // Variables
  let currentIndex = 0;
  let speechRate = 1;
  let lastSpokenWord = null;
  let lastIndex = null;

  // Elements
  const wordDisplay = document.getElementById('wordDisplay');
  const answerInput = document.getElementById('answer');
  const btnVerify = document.getElementById('btnVerify');
  const btnPlay = document.getElementById('btnPlay');
  const btnSlow = document.getElementById('btnSlow');
  const btnFast = document.getElementById('btnFast');
  const btnRepeat = document.getElementById('btnRepeat');
  const btnSkip = document.getElementById('btnSkip');
  const btnBack = document.getElementById('btnBack');
  const message = document.getElementById('message');
  const modeToggle = document.getElementById('modeToggle');

  // Init
  function init() {
    currentIndex = 0;
    lastIndex = null;
    answerInput.value = '';
    message.textContent = '';
    showWord();
    answerInput.focus();
    updateBackButton();
  }

  function showWord() {
    wordDisplay.textContent = '';
    message.textContent = '';
    answerInput.value = '';
    answerInput.disabled = false;
    speakWord(words[currentIndex]);
    lastSpokenWord = words[currentIndex];
    lastIndex = currentIndex;
    updateBackButton();
  }

  function speakWord(word) {
    if (!window.speechSynthesis) {
      message.textContent = "La synth√®se vocale n'est pas support√©e par votre navigateur.";
      return;
    }
    window.speechSynthesis.cancel(); // stop previous
    const utterance = new SpeechSynthesisUtterance(word);
    utterance.lang = 'fr-FR';
    utterance.rate = speechRate;
    window.speechSynthesis.speak(utterance);
  }

  // Boutons

  btnPlay.addEventListener('click', () => {
    speakWord(words[currentIndex]);
  });

  btnSlow.addEventListener('click', () => {
    if (speechRate > 0.5) speechRate -= 0.25;
    message.textContent = `Vitesse ralentie: ${speechRate.toFixed(2)}x`;
    speakWord(words[currentIndex]);
  });

  btnFast.addEventListener('click', () => {
    if (speechRate < 3) speechRate += 0.25;
    message.textContent = `Vitesse acc√©l√©r√©e: ${speechRate.toFixed(2)}x`;
    speakWord(words[currentIndex]);
  });

  btnRepeat.addEventListener('click', () => {
    speakWord(words[currentIndex]);
  });

  btnSkip.addEventListener('click', () => {
    nextWord();
  });

  btnBack.addEventListener('click', () => {
    if (currentIndex > 0) {
      currentIndex--;
      showWord();
    }
  });

  btnVerify.addEventListener('click', () => {
    verifyAnswer();
  });

  answerInput.addEventListener('keydown', (e) => {
    if (e.key === "Enter") {
      verifyAnswer();
    }
  });

  function verifyAnswer() {
    const answer = answerInput.value.trim().toLowerCase();
    if (!answer) {
      message.textContent = "Veuillez √©crire une r√©ponse.";
      return;
    }
    if (answer === words[currentIndex].toLowerCase()) {
      message.textContent = "Correct ! üéâ";
      answerInput.disabled = true;
      nextWord();
    } else {
      message.textContent = `Incorrect. Le mot √©tait "${words[currentIndex]}". R√©√©coute-le.`;
      speakWord(words[currentIndex]);
      answerInput.select();
    }
  }

  function nextWord() {
    if (currentIndex < words.length - 1) {
      currentIndex++;
      showWord();
    } else {
      message.textContent = "Fin des mots. Bravo !";
      answerInput.disabled = true;
    }
  }

  function updateBackButton() {
    btnBack.disabled = currentIndex === 0;
  }

  // Mode sombre / clair
  modeToggle.addEventListener('click', () => {
    document.body.classList.toggle('dark');
    if (document.body.classList.contains('dark')) {
      modeToggle.textContent = "Mode Clair";
    } else {
      modeToggle.textContent = "Mode Sombre";
    }
  });

  // Lancement initial
  init();
</script>
</body>
</html>
