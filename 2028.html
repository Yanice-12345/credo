


<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Dictée Interactive</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(270deg, #6a11cb, #2575fc, #6a11cb);
      background-size: 600% 600%;
      animation: gradientAnimation 15s ease infinite;
      color: #fff;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      margin: 0;
      padding: 20px;
    }

    @keyframes gradientAnimation {
      0% {background-position: 0% 50%;}
      50% {background-position: 100% 50%;}
      100% {background-position: 0% 50%;}
    }

    .container {
      background: rgba(255,255,255,0.1);
      padding: 30px;
      border-radius: 16px;
      max-width: 700px;
      width: 100%;
      text-align: center;
      backdrop-filter: blur(10px);
      box-shadow: 0 8px 32px rgba(0,0,0,0.25);
    }

    h1 {
      margin-bottom: 20px;
      font-size: 1.8rem;
    }

    select, textarea, button {
      width: 100%;
      margin-top: 12px;
      padding: 12px;
      font-size: 1rem;
      border-radius: 8px;
      border: none;
      outline: none;
    }

    textarea {
      height: 180px;
      resize: vertical;
      background: rgba(255,255,255,0.9);
      color: #333;
    }

    select {
      background: rgba(255,255,255,0.9);
      color: #333;
    }

    .buttons {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 15px;
    }

    .buttons button {
      flex: 1 1 calc(50% - 10px);
      background: #fff;
      color: #2575fc;
      font-weight: bold;
      cursor: pointer;
      transition: background 0.3s;
    }

    .buttons button:hover {
      background: #2575fc;
      color: #fff;
    }

    #result {
      margin-top: 15px;
      font-weight: bold;
      min-height: 1.2em;
      white-space: pre-wrap;
    }
  </style>
</head>
<body>

  <div class="container">
    <h1>📜 Dictée Interactive</h1>

    <select id="dictationSelect">
      <option value="laboureur">Le Laboureur et ses enfants</option>
      <option value="cigale">La Cigale et la Fourmi</option>
      <option value="lievre">Le Lièvre et la grenouille</option>
      <option value="corbeau">Le Corbeau et le Renard</option>
      <option value="grenouille">La Grenouille et le Bœuf</option>
      <option value="fourmi">La Fourmi et la Sauterelle</option>
      <option value="tortue">La Tortue et le Lièvre</option>
      <option value="agneau">Le Loup et l’Agneau</option>
      <option value="coq">Le Coq et le Renard</option>
      <option value="poisson">Le Petit Poisson</option>
      <option value="cheval">Le Cheval et l’Âne</option>
      <option value="pluie">La Pluie et le Beau Temps</option>
      <option value="chat">Le Chat et la Souris</option>
      <option value="chene">Le Vieux Chêne</option>
      <option value="marchand">Le Marchand et son Âne</option>
      <option value="papillon">Le Papillon et la Fleur</option>
      <option value="pluieEte">La Pluie d’Été</option>
      <option value="foret">La Forêt Enchantée</option>
      <option value="vent">Le Vent et les Feuilles</option>

      <!-- Dictées 21 à 30 -->
      <option value="carnaval">21. Le Carnaval des Illusions</option>
      <option value="orage">22. L’Orage Approchait</option>
      <option value="archeologie">23. Une Découverte Archéologique</option>
      <option value="phare">24. Le Phare Abandonné</option>
      <option value="violoniste">25. Le Vieux Violoniste</option>
      <option value="bibliotheque">26. La Bibliothèque Souterraine</option>
      <option value="mission">27. Une Mission Périlleuse</option>
      <option value="apparition">28. L’Étrange Apparition</option>
      <option value="ambre">29. Le Parfum de l’Ambre</option>
      <option value="cloche">30. La Cloche Enfouie</option>

      <!-- Dictées 41 à 50 -->
      <option value="saisons">41. Les Saisons de l’Année</option>
      <option value="ecole">42. À l’École</option>
      <option value="societe">43. Les Règles de la Vie en Société</option>
      <option value="ferme">44. Les Animaux de la Ferme</option>
      <option value="metiers">45. Les Métiers d’Aujourd’hui</option>
      <option value="alimentation">46. L’Alimentation Équilibrée</option>
      <option value="planetes">47. Les Planètes du Système Solaire</option>
      <option value="environnement">48. Le Respect de l’Environnement</option>
      <option value="journee">49. La Journée d’un Enfant</option>
      <option value="inventions">50. Les Inventions qui ont changé le monde</option>
<option value="droitsEnfant">Les Droits de l’Enfant</option>
<option value="musique">La Musique et ses Bienfaits</option>
<option value="lecture">L’Importance de Lire</option>
<option value="corpsHumain">Le Corps Humain</option>
<option value="transports">Les Moyens de Transport</option>
<option value="emotions">Les Émotions</option>
<option value="cycleEau">Le Cycle de l’Eau</option>
<option value="explorateurs">Les Grands Explorateurs</option>
<option value="sportSante">Le Sport et la Santé</option>
<option value="objetsQuotidien">Les Objets du Quotidien</option>

       </select>

    <div class="buttons">
      <button onclick="playDictation()">▶️ Écouter</button>
      <button onclick="togglePause()">⏸️ Pause / Reprendre</button>
      <button onclick="slowDown()">🐢 Ralentir</button>
      <button onclick="speedUp()">🐇 Accélérer</button>
      <button onclick="checkDictation()">✅ Vérifier</button>
    </div>

    <textarea id="userInput" placeholder="Écris ici ta dictée..."></textarea>
    <div id="result"></div>
  </div>

  <script>
    const dictations = {
      laboureur: `Travaillez, prenez de la peine :
C'est le fonds qui manque le moins.
Un riche Laboureur, sentant sa mort prochaine,
Fit venir ses enfants, leur parla sans témoins.
Gardez-vous, leur dit-il, de vendre l'héritage
Que nous ont laissé nos parents.
Un trésor est caché dedans.
Je ne sais pas l'endroit ; mais un peu de courage
Vous le fera trouver, vous en viendrez à bout.
Remuez votre champ dès qu'on aura fait l'Oût.
Creusez, fouillez, bêchez ; ne laissez nulle place
Où la main ne passe et repasse...`,

      cigale: `La Cigale, ayant chanté Tout l’été,
Se trouva fort dépourvue Quand la bise fut venue :
Pas un seul petit morceau De mouche ou de vermisseau.
Elle alla crier famine Chez la Fourmi sa voisine...
La priant de lui prêter Quelque grain pour subsister
Jusqu’à la saison nouvelle.
« Je vous paierai, lui dit-elle, Avant l’août, foi d’animal... »
La Fourmi n’est pas prêteuse ; C’est là son moindre défaut.
« Que faisiez-vous au temps chaud ?
– Nuit et jour à tout venant Je chantais, ne vous déplaise.
– Vous chantiez ? Eh bien ! dansez maintenant. »`,

      lievre: `Tout le monde savait que le Lièvre était l'animal le plus rapide...
Un jour, le Lièvre proposa une course à la Tortue. La Chouette donna le départ.
Le Lièvre partit vite, s'arrêta pour dormir... et la Tortue gagna la course.`,

      tortue: `Rien ne sert de courir; il faut partir à point.
Le Lièvre et la Tortue en sont un témoignage...
La Tortue arriva la première. Eh bien ! lui cria‑t‑elle :
« Avais‑je pas raison ? »`,

      corbeau: `Maître Corbeau, sur un arbre perché,
Tenait en son bec un fromage.
Maître Renard, par l’odeur alléché,
Lui tint à peu près ce langage :
« Hé ! bonjour, monsieur du Corbeau.
... Cette leçon vaut bien un fromage, sans doute. »`,

      grenouille: `Une Grenouille vit un Bœuf Qui lui sembla de belle taille.
Elle, qui n’était pas grosse en tout comme un œuf,
Envieuse, s’étend, s’enfle et crève...`,

      fourmi: `Nous étions au milieu de l'hiver, un jour clair et glacial...
La Sauterelle affamée demanda des graines à la Fourmi,
Mais cette dernière lui répondit que ceux qui ne travaillent pas auront faim.`,

      agneau: `La raison du plus fort est toujours la meilleure :
Un Agneau se désaltérait Dans le courant d’une onde pure.
Un Loup survint à jeun et l'accusa faussement...
Il le mangea.`,

      coq: `Sur la branche d’un arbre était en sentinelle
Un vieux Coq adroit et matois.
« Frère, dit un Renard, adoucissant sa voix... »
Car c’est double plaisir de tromper le trompeur.`,

      poisson: `Un petit poisson nageait dans la rivière claire.
Il aimait jouer parmi les algues et les pierres.
Un jour, il rencontra une grenouille qui sautait joyeusement sur la berge.
« Bonjour, petit poisson, veux-tu jouer avec moi ? » demanda la grenouille.
Le poisson fit un petit saut et accepta avec plaisir.`,

      cheval: `Un cheval et un âne travaillaient ensemble dans un champ.
Le cheval tirait la charrue tandis que l’âne portait les sacs de graines.
Un jour, l’âne dit au cheval : « Tu travailles trop dur, laisse-moi t’aider davantage. »
Le cheval répondit : « Ensemble, nous pouvons tout accomplir. »
Depuis ce jour, ils travaillaient en équipe et étaient très heureux.`,

      pluie: `La pluie tombait doucement sur le jardin.
Les fleurs buvaient l’eau avec joie.
Puis, le beau temps revint avec un grand soleil.
Les oiseaux chantaient et les enfants jouaient dehors.
La pluie et le soleil se succédaient pour rendre la nature belle.`,

      chat: `Un chat gris regardait une petite souris courir vite.
La souris cherchait du fromage près de la porte.
Le chat voulut attraper la souris, mais elle était trop rapide.
Finalement, le chat se fatigua et laissa la souris partir.
La souris s’enfuit, heureuse d’avoir échappé au chat.`,

      chene: `Un vieux chêne se dressait au milieu du champ.
Il avait des branches larges et des feuilles vertes.
Les enfants aimaient jouer à l’ombre de ce chêne.
Un jour, une tempête forte fit tomber une branche.
Mais le vieux chêne resta fier et solide malgré les années.`,

      marchand: `Un marchand avait un âne fidèle qui l’aidait à porter ses marchandises.
Chaque jour, ils traversaient le village ensemble.
Un matin, l’âne tomba dans un fossé profond.
Le marchand chercha de l’aide pour le sauver.
Finalement, l’âne fut tiré hors du trou, et tous deux reprirent leur chemin.`,

      papillon: `Un joli papillon coloré voletait autour d’une fleur.
Il butinait le nectar avec délicatesse.
La fleur s’ouvrait sous le soleil chaud de l’été.
Le papillon dansait de fleur en fleur, heureux.
Ils vivaient une belle histoire de nature et de beauté.`,

      pluieEte: `La pluie d’été tombe souvent en fin d’après-midi.
Elle rafraîchit les champs et les jardins.
Les enfants aiment sauter dans les flaques d’eau.
Après la pluie, un arc-en-ciel apparaît dans le ciel bleu.
La nature remercie la pluie qui fait tout grandir.`,

      foret: `Dans une forêt enchantée, les arbres parlaient aux voyageurs.
Les animaux y vivaient en paix et en harmonie.
Un petit garçon s’aventura dans cette forêt magique.
Il rencontra une fée qui lui offrit un cadeau merveilleux.
Il rentra chez lui avec un cœur rempli de joie.`,

      vent: `Le vent soufflait fort dans les arbres du parc.
Les feuilles rouges et jaunes tourbillonnaient dans l’air.
Elles dansaient une danse folle avant de tomber au sol.
Le vent riait en emportant les feuilles au loin.
C’était l’arrivée de l’automne, saison des couleurs chaudes.`,

      /* Dictées 21 à 30 */
      carnaval: `Le carnaval, organisé annuellement, attire une foule bigarrée.
Les acrobates exécutaient des figures spectaculaires au rythme d’une fanfare endiablée.
Derrière les masques colorés, les visages restaient méconnaissables.
Cette atmosphère éphémère laissait une impression inoubliable aux spectateurs émerveillés.`,

      orage: `Le ciel s’assombrissait dangereusement, présageant un orage imminent.
Les feuilles tourbillonnaient sous les rafales capricieuses du vent.
Les éclairs zébraient l’horizon dans un fracas assourdissant.
La pluie diluvienne s’abattit, inondant rapidement les ruelles étroites.`,

      archeologie: `Les archéologues mirent au jour une sépulture millénaire enfouie sous la terre.
Les vestiges retrouvés étaient minutieusement analysés en laboratoire.
Chaque artefact racontait une parcelle d’histoire oubliée.
L’équipe rédigea un compte-rendu rigoureux pour la revue spécialisée.`,

      phare: `Isolé sur une presqu’île battue par les vents, le vieux phare semblait inhabité.
Sa lanterne fissurée laissait passer un éclat vacillant.
La structure, pourtant délabrée, conservait une prestance singulière.
Le gardien, jadis intransigeant, y avait laissé un journal énigmatique.`,

      violoniste: `Assis sur un tabouret bancal, le vieil homme jouait du violon.
Ses doigts ridés parcouraient l’archet avec une précision remarquable.
La mélodie mélancolique résonnait dans la ruelle silencieuse.
Quelques passants, fascinés, déposaient discrètement une pièce dans son étui.`,

      bibliotheque: `Sous le manoir s’étendait une bibliothèque secrète insoupçonnée.
Les étagères
 croulaient sous des volumes poussiéreux aux reliures anciennes.
Une odeur de parchemin et d’humidité flottait dans l’air stagnant.
Parmi les manuscrits, un grimoire énigmatique attirait l’attention.`,

      mission: `Le capitaine accepta une mission particulièrement périlleuse.
Il devait franchir les montagnes enneigées malgré les conditions extrêmes.
Son équipe, bien équipée, avançait prudemment dans le blizzard.
La moindre erreur aurait pu compromettre l’expédition tout entière.`,

      apparition: `Un soir, une lueur vacillante traversa le salon désert.
Intriguée, la jeune fille s’approcha sans bruit, retenant son souffle.
Elle aperçut une silhouette translucide qui flottait doucement.
Son imagination débordante mêlait réalité et illusion.`,

      ambre: `Sur les rives orientales, un marchand vendait des fioles d’ambre précieux.
Son parfum entêtant évoquait les marchés de Marrakech ou d’Istanbul.
Chaque flacon était soigneusement scellé à la cire dorée.
Les clients affluaient, attirés par l’arôme enivrant et mystérieux.`,

      cloche: `Lors de travaux de restauration, les ouvriers découvrirent une cloche enfouie.
Elle portait une inscription latine à moitié effacée.
Le métal oxydé témoignait d’un passé révolu et glorieux.
Les habitants décidèrent de la suspendre à nouveau dans le clocher rénové.`,

      /* Dictées 41 à 50 */
      saisons: `Le printemps apporte les bourgeons et les premières fleurs colorées.
L’été réchauffe les journées et invite aux vacances à la mer ou à la montagne.
En automne, les feuilles tombent et les couleurs deviennent chaudes.
L’hiver recouvre les paysages de neige et fait frissonner les passants.`,

      ecole: `Chaque matin, les élèves entrent en classe en saluant leur professeur.
Ils écoutent les leçons, participent activement et notent les devoirs.
La récréation est un moment de détente où les enfants jouent ensemble.
À la fin de la journée, chacun rentre chez soi, cartable sur le dos.`,

      societe: `Respecter les autres est une valeur essentielle pour bien vivre ensemble.
Il faut attendre son tour, écouter sans interrompre et aider les plus faibles.
La politesse se manifeste par des mots simples : bonjour, merci, s’il vous plaît.
Chaque citoyen a des droits, mais aussi des devoirs.`,

      ferme: `Dans la ferme, la vache donne du lait, la poule pond des œufs, et le cochon fouille la terre.
Le coq chante dès l’aube, et les moutons broutent dans le pré.
Les animaux ont besoin de soins, d’eau et de nourriture.
Le fermier travaille chaque jour pour s’occuper d’eux.`,

      metiers: `Le boulanger prépare le pain que l’on mange chaque matin.
L’infirmière soigne les patients avec douceur et attention.
Le pompier éteint les incendies et sauve des vies.
Chaque métier est utile pour faire fonctionner la société.`,

      alimentation: `Pour être en bonne santé, il faut manger varié et équilibré.
Les fruits et légumes apportent des vitamines.
Il est important de boire de l’eau et de limiter les sucreries.
Faire du sport complète une alimentation saine.`,

      planetes: `La Terre est la seule planète connue à abriter la vie.
Elle tourne autour du Soleil comme les autres planètes : Mars, Jupiter ou Vénus.
Chaque planète a une taille et une composition différente.
L’Univers reste encore plein de mystères à explorer.`,

      environnement: `Il faut trier les déchets, économiser l’eau et l’électricité.
Les forêts doivent être protégées pour abriter les animaux.
La pollution abîme la planète et menace notre avenir.
Chaque geste compte pour préserver la nature.`,

      journee: `Le matin, l’enfant se lève, se lave et prend son petit-déjeuner…
Il va à l’école, apprend de nouvelles choses et joue avec ses amis.
L’après-midi, il fait ses devoirs, puis se détend en famille.
Le soir, il se couche pour bien dormir et être en forme le lendemain.`,

      inventions: `L’imprimerie a permis de diffuser les livres partout dans le monde.
L’électricité a révolutionné les maisons et les villes.
L’avion a rapproché les continents et facilité les voyages.
Internet permet aujourd’hui de communiquer instantanément.`


      droitsEnfant: `Chaque enfant a le droit d’aller à l’école, d’être protégé et aimé. Il a le droit de jouer, de grandir en bonne santé et d’exprimer ses idées. Les adultes doivent veiller à ce que ses droits soient respectés. Un monde plus juste commence par la protection de l’enfance.`,

      musique: `La musique apaise, fait danser ou rêve. Elle accompagne nos émotions et nos souvenirs. Jouer d’un instrument demande de la rigueur et de la passion. Grâce à elle, les peuples du monde entier peuvent se comprendre sans paroles.`,

      lecture: `Lire permet de découvrir des mondes imaginaires et d’apprendre de nouvelles choses. Un livre peut faire rire, réfléchir ou émouvoir. La lecture enrichit le vocabulaire et développe la mémoire. Elle est une clé précieuse pour réussir à l’école.`,

      corpsHumain: `Le corps humain est une machine incroyable. Le cœur bat sans arrêt, les poumons nous permettent de respirer. Le cerveau contrôle nos mouvements, nos pensées et nos sensations. Il faut en prendre soin grâce à une bonne hygiène de vie.`,

      transports: `Autrefois, on se déplaçait à pied, à cheval ou en charrette. Aujourd’hui, les voitures, les trains, les avions et les bateaux relient les villes et les pays. Les transports rapides facilitent les voyages, mais polluent souvent l’environnement. Les solutions écologiques se développent pour préserver la planète.`,

      emotions: `La joie, la tristesse, la peur, la colère : les émotions font partie de la vie. Il est normal d’en ressentir, mais il faut apprendre à les exprimer calmement. Parler à quelqu’un de confiance peut aider à se sentir mieux. Comprendre ses émotions aide à grandir sereinement.`,

      cycleEau: `L’eau s’évapore, forme des nuages, retombe en pluie, puis rejoint les rivières et les mers. Ce cycle naturel se répète sans cesse. Sans eau, la vie serait impossible sur Terre. Il faut donc l’économiser et la protéger de la pollution.`,

      explorateurs: `Christophe Colomb a découvert l’Amérique en 1492. Magellan a fait le tour du monde par la mer. Ces hommes courageux ont permis de mieux connaître la planète. Leurs voyages ont marqué l’histoire et ouvert de nouvelles routes.`,

      sportSante: `Faire du sport aide à rester en forme et à se sentir bien. Il renforce les muscles, le cœur et le moral. Le sport enseigne aussi le respect des règles, la persévérance et l’esprit d’équipe. Même une simple marche quotidienne est bénéfique.`,

      objetsQuotidien: `La lampe éclaire la pièce, le réfrigérateur garde les aliments au frais. La montre donne l’heure, l’ordinateur permet de travailler ou de jouer. Tous ces objets nous rendent service chaque jour. Apprendre à les nommer et à les utiliser correctement est essentiel.`





    };

    let rate = 0.5;
    const minRate = 0.25;
    const maxRate = 2.0;
    let paused = false;
    let speaking = false;
    let queue = [];
    let voice = null;

    function getVoice() {
      const voices = speechSynthesis.getVoices();
      // On garde la même voix dans la variable globale
      if (!voice) {
        voice = voices.find(v => v.lang === 'fr-FR' && /thomas|paul|yves|homme/i.test(v.name)) || voices.find(v => v.lang === 'fr-FR');
      }
      return voice;
    }

    function speak(text) {
      speechSynthesis.cancel();
      queue = [];

      // Découpe en parties mots/ponctuations
      const parts = text
        .replace(/\n/g, ' ')
        .split(/([.,;:!?])/g)
        .filter(p => p.trim() !== '');

      for (let part of parts) {
        // Création de l'énoncé à lire
        let utterance = null;
        if (['.', ',', ';', ':', '!', '?'].includes(part)) {
          // On lit la ponctuation sous forme orale (optionnel)
          // ou on peut ne rien lire et juste faire pause
          utterance = new SpeechSynthesisUtterance(part); 
          utterance.lang = 'fr-FR';
          utterance.voice = getVoice();
          utterance.rate = rate;
          // Marque cette utterance comme ponctuation pour pause plus longue
          utterance.isPunctuation = true;
        } else {
          utterance = new SpeechSynthesisUtterance(part.trim());
          utterance.lang = 'fr-FR';
          utterance.voice = getVoice();
          utterance.rate = rate;
          utterance.isPunctuation = false;
        }
        queue.push(utterance);
      }

      speaking = true;
      playQueue();
    }

    async function playQueue() {
      for (let utterance of queue) {
        while (paused) await new Promise(r => setTimeout(r, 100));
        if (!speaking) return;

        speechSynthesis.speak(utterance);
        await new Promise(resolve => {
          utterance.onend = resolve;
        });

        // Pause de 5 secondes après une ponctuation, sinon pause de 0.5s
        if (utterance.isPunctuation) {
          await new Promise(r => setTimeout(r, 5000)); 
        } else {
          await new Promise(r => setTimeout(r, 500));
        }
      }
      speaking = false;
    }

    function playDictation() {
      const selected = document.getElementById('dictationSelect').value;
      const text = dictations[selected];
      if (text) {
        paused = false;
        speaking = true;
        speak(text);
      }
    }

    function togglePause() {
      paused = !paused;
      if (paused) {
        speechSynthesis.pause();
      } else {
        speechSynthesis.resume();
      }
    }

    function slowDown() {
      if (rate > minRate) {
        rate -= 0.1;
        if (rate < minRate) rate = minRate;
      }
    }

    function speedUp() {
      if (rate < maxRate) {
        rate += 0.1;
        if (rate > maxRate) rate = maxRate;
      }
    }

    function checkDictation() {
      const selected = document.getElementById('dictationSelect').value;
      const original = dictations[selected].replace(/\s+/g, ' ').trim();
      const userText = document.getElementById('userInput').value.replace(/\s+/g, ' ').trim();

      const isExact = original.toLowerCase() === userText.toLowerCase();

      const result = isExact
        ? '✅ Parfait ! Aucune erreur détectée.'
        : '❌ Il y a des différences. Relis ta dictée et réessaie !';

      document.getElementById('result').textContent = `${result}\n\n--- Dictée originale ---\n${original}`;
    }

    window.speechSynthesis.onvoiceschanged = () => {
      getVoice();
    };
  </script>
</body>
</html>
