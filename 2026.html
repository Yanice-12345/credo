<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Module √âpellation Vocal - Liste Compl√®te</title>
<style>
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
    color: #fff;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    margin: 0;
  }
  .container {
    background: rgba(255,255,255,0.1);
    padding: 30px 40px;
    border-radius: 15px;
    box-shadow: 0 8px 32px 0 rgba(31,38,135,0.37);
    width: 90%;
    max-width: 480px;
    text-align: center;
    backdrop-filter: blur(8px);
  }
  h1 {
    margin-bottom: 20px;
    font-weight: 700;
    text-shadow: 0 2px 5px rgba(0,0,0,0.3);
  }
  #wordDisplay {
    font-size: 2.3rem;
    font-weight: 700;
    margin-bottom: 25px;
    letter-spacing: 0.12em;
    min-height: 48px;
  }
  input[type="text"] {
    font-size: 1.5rem;
    padding: 12px 15px;
    width: 100%;
    border-radius: 10px;
    border: none;
    outline: none;
    box-shadow: inset 0 0 10px rgba(0,0,0,0.2);
    margin-bottom: 20px;
    color: #333;
    background-color: #fff;
    caret-color: #2575fc;
  }
  input[type="text"]::-webkit-autofill,
  input[type="text"]::-webkit-autofill:hover,
  input[type="text"]::-webkit-autofill:focus {
    box-shadow: 0 0 0px 1000px white inset !important;
    -webkit-text-fill-color: #333 !important;
  }
  .buttons {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 15px;
  }
  button {
    flex: 1 1 40%;
    padding: 12px 10px;
    font-size: 1.1rem;
    font-weight: 600;
    border-radius: 12px;
    border: none;
    cursor: pointer;
    color: #2575fc;
    background-color: #fff;
    transition: background-color 0.3s, color 0.3s;
    user-select: none;
  }
  button:hover {
    background-color: #2575fc;
    color: #fff;
  }
  #message {
    margin-top: 20px;
    min-height: 28px;
    font-size: 1.3rem;
    font-weight: 600;
    text-shadow: 0 0 8px rgba(0,0,0,0.15);
  }
</style>
</head>
<body>
  <div class="container">
    <h1>√âpellation vocale</h1>
    <div id="wordDisplay">Mot √† √©couter</div>
    <input type="text" id="answer" placeholder="√âcris le mot ici..." autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
    <div class="buttons">
      <button id="btnPlay">‚ñ∂Ô∏è Jouer</button>
      <button id="btnSlow">üê¢ Ralentir</button>
      <button id="btnFast">üêá Acc√©l√©rer</button>
      <button id="btnRepeat">üîÅ R√©p√©ter</button>
      <button id="btnSkip">‚è≠ Passer</button>
    </div>
    <div id="message"></div>
  </div>

<script>
  const words = [
    "autel","bataille","ch√¥mage","documentaire","√©tang","force","gazouiller","hache",
    // ... (tous les mots sont bien pr√©sents comme dans ton code original)
    "tonalit√©","localisation","messager","nuque","ob√®se","quatuor","sc√©nario","toile",
    "lexical","m√©thode","nuisance","quotidien","salaire","th√®me",
    "l√©gislatif","merveille","num√©rique","pyramide","qualificatif","syndrome","tourment",
    "lutte","m√©chancet√©","nuageux","parenth√®se","quelconque","stylistique","temps"
  ];

  let currentWordIndex = 0;
  const wordDisplay = document.getElementById("wordDisplay");
  const answerInput = document.getElementById("answer");
  const message = document.getElementById("message");
  const btnPlay = document.getElementById("btnPlay");
  const btnSlow = document.getElementById("btnSlow");
  const btnFast = document.getElementById("btnFast");
  const btnRepeat = document.getElementById("btnRepeat");
  const btnSkip = document.getElementById("btnSkip");

  let speechRate = 1;

  function speakWord(word, rate = speechRate) {
    if (!('speechSynthesis' in window)) {
      message.textContent = "La synth√®se vocale n'est pas prise en charge sur ce navigateur.";
      return;
    }
    speechSynthesis.cancel();
    const utterance = new SpeechSynthesisUtterance(word);
    utterance.lang = "fr-FR";
    utterance.rate = rate;
    speechSynthesis.speak(utterance);
  }

  function playWord() {
    const word = words[currentWordIndex];
    wordDisplay.textContent = "";
    speakWord(word);
    message.textContent = "√âcoutez attentivement et √©crivez le mot.";
    answerInput.value = "";
    answerInput.focus();
  }

  function playWordSlow() {
    speechRate = Math.max(0.5, speechRate - 0.25);
    playWord();
  }

  function playWordFast() {
    speechRate = Math.min(2, speechRate + 0.25);
    playWord();
  }

  function repeatWord() {
    playWord();
  }

  function checkAnswer() {
    const userAnswer = answerInput.value.trim().toLowerCase();
    const correctAnswer = words[currentWordIndex].toLowerCase();
    if (userAnswer === correctAnswer) {
      message.textContent = "‚úÖ Correct !";
      wordDisplay.textContent = correctAnswer;
      setTimeout(() => {
        nextWord();
      }, 1500);
    } else {
      message.textContent = "‚ùå Incorrect, √©coutez l'orthographe lettre par lettre.";
      spellWord(correctAnswer);
    }
  }

  function spellWord(word) {
    speechSynthesis.cancel();
    let letters = [...word.replace(/[-\s]/g, "")];
    let i = 0;
    function spellNext() {
      if (i < letters.length) {
        const utterance = new SpeechSynthesisUtterance(letters[i]);
        utterance.lang = "fr-FR";
        utterance.rate = 0.6;
        utterance.onend = () => {
          i++;
          setTimeout(spellNext, 350);
        };
        speechSynthesis.speak(utterance);
      } else {
        message.textContent = "R√©essayez d'√©crire le mot.";
        answerInput.value = "";
        answerInput.focus();
      }
    }
    spellNext();
  }

  function nextWord() {
    currentWordIndex++;
    if (currentWordIndex >= words.length) {
      message.textContent = "üéâ F√©licitations, vous avez termin√© la liste !";
      wordDisplay.textContent = "";
      answerInput.value = "";
      answerInput.disabled = true;
      btnPlay.disabled = true;
      btnSlow.disabled = true;
      btnFast.disabled = true;
      btnRepeat.disabled = true;
      btnSkip.disabled = true;
    } else {
      playWord();
    }
  }

  btnPlay.addEventListener("click", playWord);
  btnSlow.addEventListener("click", playWordSlow);
  btnFast.addEventListener("click", playWordFast);
  btnRepeat.addEventListener("click", repeatWord);
  btnSkip.addEventListener("click", () => {
    message.textContent = `Mot saut√© : ${words[currentWordIndex]}`;
    wordDisplay.textContent = words[currentWordIndex];
    nextWord();
  });

  answerInput.addEventListener("keydown", (e) => {
    if (e.key === "Enter") {
      e.preventDefault();
      checkAnswer();
    }
  });

  window.onload = () => {
    playWord();
  };
</script>
</body>
</html>
