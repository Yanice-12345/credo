<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Module √âpellation Vocal - Liste Compl√®te</title>
<style>
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
    color: #fff;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    margin: 0;
  }
  .container {
    background: rgba(255,255,255,0.1);
    padding: 30px 40px;
    border-radius: 15px;
    box-shadow: 0 8px 32px 0 rgba(31,38,135,0.37);
    width: 90%;
    max-width: 480px;
    text-align: center;
    backdrop-filter: blur(8px);
  }
  h1 {
    margin-bottom: 20px;
    font-weight: 700;
    text-shadow: 0 2px 5px rgba(0,0,0,0.3);
  }
  #wordDisplay {
    font-size: 2.3rem;
    font-weight: 700;
    margin-bottom: 25px;
    letter-spacing: 0.12em;
    min-height: 48px;
  }
  input[type="text"] {
    font-size: 1.5rem;
    padding: 12px 15px;
    width: 100%;
    border-radius: 10px;
    border: none;
    outline: none;
    box-shadow: inset 0 0 10px rgba(0,0,0,0.2);
    margin-bottom: 20px;
    color: #333;
    background-color: #fff;
    caret-color: #2575fc;
    /* Emp√™che la correction automatique */
    autocorrect: off;
    autocomplete: off;
    spellcheck: false;
  }
  input[type="text"]::-webkit-autofill,
  input[type="text"]::-webkit-autofill:hover,
  input[type="text"]::-webkit-autofill:focus {
    box-shadow: 0 0 0px 1000px white inset !important;
    -webkit-text-fill-color: #333 !important;
  }
  .buttons {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 15px;
  }
  button {
    flex: 1 1 40%;
    padding: 12px 10px;
    font-size: 1.1rem;
    font-weight: 600;
    border-radius: 12px;
    border: none;
    cursor: pointer;
    color: #2575fc;
    background-color: #fff;
    transition: background-color 0.3s, color 0.3s;
    user-select: none;
  }
  button:hover {
    background-color: #2575fc;
    color: #fff;
  }
  #message {
    margin-top: 20px;
    min-height: 28px;
    font-size: 1.3rem;
    font-weight: 600;
    text-shadow: 0 0 8px rgba(0,0,0,0.15);
  }
</style>
</head>
<body>
  <div class="container">
    <h1>√âpellation vocale</h1>
    <div id="wordDisplay">Mot √† √©couter</div>
    <input type="text" id="answer" placeholder="√âcris le mot ici..." autocomplete="off" autocorrect="off" spellcheck="false"/>
    <div class="buttons">
      <button id="btnPlay">‚ñ∂Ô∏è Jouer</button>
      <button id="btnSlow">üê¢ Ralentir</button>
      <button id="btnFast">üêá Acc√©l√©rer</button>
      <button id="btnRepeat">üîÅ R√©p√©ter</button>
      <button id="btnCheck">‚úîÔ∏è V√©rifier</button>
      <button id="btnSkip">‚è≠ Passer</button>
    </div>
    <div id="message"></div>
  </div>

<script>
  const words = [
    "autel","bataille","ch√¥mage","documentaire","√©tang","force","gazouiller","hache",
    "atome","bibliographie","crustac√©","documentaliste","√©rosion","fantastique","gam√®te","hormone",
    "altercation","bip√®de","conductible","dictionnaire","√©tiquette","fant√¥me","gyn√©cologue","herbivore",
    "acide","bourgeon","croquis","d√©limitation","√©cart","format","gentiment","harmonieux",
    "amplitude","bidonville","cylindre","descendre","√©paisseur","fonctionnement","gabarit","hypoth√®se",
    "analogie","bissectrice","contrebasse","dent","√©go√Øste","fr√©tiller","galanterie","hypermarch√©",
    "ant√©c√©dent","bissextile","cyclope","d√©soler","√©quilat√©ral","faillite","g√¢chis","humanit√©",
    "anaphore","bouillir","cellule","dispara√Ætre","expression","facturation","gangr√®ne","hippopotame",
    "antipathie","botanique","cancer","dollar","esquisse","fluidifier","galipette","hirondelle",
    "arch√©ologie","bonheur","c√¢ble","doigt","emprunt","f≈ìtus","gargouiller","heurter",
    "anticorps","banquette","chronologie","d√©esse","enceinte","fanfare","garde-robe","honn√™tet√©",
    "anatomie","bient√¥t","compas","devis","√©lectron","fertilit√©","gencive",
    "aquatique","bicyclette","calomnie","d√©duction","√©clipse","furieux","g√©n√©ralement","illustrateur",
    "anecdote","bapt√™me","chorale","d√©veloppement","euphorie","frayeur","gentillesse","inflation",
    "abonnement","b√©gayer","corail","diff√©remment","euph√©misme","fugitif","ghetto","impersonnel",
    "absence","barbecue","concentration","d√©gradation","extinction","fraiseuse","glaciaire","isoloir",
    "abr√©ger","bact√©rie","carambolage","discriminatoire","√©querre","fabuleux","index",
    "abyme","bracelet","concubin","diff√©rencier","√©bauche","fain√©ant","harceler","int√©rieur",
    "accueil","boulang√®re","conteneur","d√©localisation","√©b√®ne","faisable","happer","industrie",
    "actuellement","br√ªler","cadenasser","d√©mangeaison","√©pith√®te","falsifier","handicap","impression",
    "adh√©sion","baroque","chromosome","dilemme","estomac","favoritisme","homog√®ne","insecte",
    "agenda","boulevard","compas","d√©sarroi","√©pilogue","humain","information",
    "affliger","banquise","circonflexe","dinosaure","√©picentre","g√©ologue","harpie","indigo",
    "all√©gorie","bourgeonner","contraception","dissolution","effigie","gestionnaire","hamster","intol√©rance",
    "anesth√©sie","bain-marie","contemporain","d√©magogie","embo√Æter","gouache","humain","infinitif",
    "antiquaire","bafouer","commettre","douillet","√©carquiller","gravitation","hectare","inondation",
    "apostrophe","barrette","coefficient","droiture","graffiti","hypot√©nuse","induction",
    "appara√Ætre","boycotter","confidentialit√©","dubitatif","f√©condation","g√©ant","hauteur","impulsion",
    "agglom√©ration","bouilloire","caoutchouc","durablement","fr√©quence","gestion","horticulture","int√©ressant",
    "amertume","bizutage","chronom√®tre","dyslexie","fossile","g√©nocide","hi√©rarchie","isoc√®le",
    "assiduit√©","balbutier","cynique","dor√©navant","fusain","grammaire","hypocrisie","internet",
    "all√©gresse","bouddhisme","claustrophobe","faille","genre","hydratant","illusion",
    "appendice","biodiversit√©","crainte","√©cho","fasciste","gradation","homicide","invention",
    "adjacent","bioclimatique","couveuse","√©chapper","fascination","gouvernement","hasard","impair",
    "antis√©mitisme","biscuit","cr√©puscule","√©charpe","f√©licitations","gr√®ve","hippocampe","italique",
    "ambulance","b√©atitude","carr√©","d√©guisement","embryon","fard","gauche","hypnose",
    "archipel","b√©n√©fique","clavier","d√©sormais","√©lan","faramineux","goutte","infraction",
    "acrobate","bavarder","cirque","duperie","√©lastique","faramineux","g√©n√©ration","individuel",
    "a√©roport","biblioth√®que","champignon","d√©m√©nagement","√©quipement","fascicule","g√™ne","humanitaire",
    "anxi√©t√©","b√©n√©vole","cha√Æne","diction","√©ducation","fission","goutte","imp√©ratif"
  ];

  let currentIndex = 0;
  const wordDisplay = document.getElementById("wordDisplay");
  const input = document.getElementById("answer");
  const message = document.getElementById("message");
  const btnPlay = document.getElementById("btnPlay");
  const btnSlow = document.getElementById("btnSlow");
  const btnFast = document.getElementById("btnFast");
  const btnRepeat = document.getElementById("btnRepeat");
  const btnCheck = document.getElementById("btnCheck");
  const btnSkip = document.getElementById("btnSkip");

  let speechRate = 1.0;
  let isPlaying = false;
  let synth = window.speechSynthesis;

  function cleanWord(w) {
    // en minuscules, sans espaces en d√©but/fin
    return w.trim().toLowerCase();
  }

  function speakWord(word, rate = 1.0) {
    if (!synth) {
      alert("Synth√®se vocale non disponible dans ce navigateur.");
      return;
    }
    if (synth.speaking) {
      synth.cancel();
    }
    let utter = new SpeechSynthesisUtterance(word);
    utter.lang = 'fr-FR';
    utter.rate = rate;
    synth.speak(utter);
  }

  function speakLetterByLetter(word, rate = 0.8) {
    if (!synth) return;
    if (synth.speaking) synth.cancel();

    // Parler chaque lettre s√©par√©ment avec une pause
    const letters = word.split('');
    let i = 0;

    function speakNext() {
      if (i >= letters.length) return;
      let u = new SpeechSynthesisUtterance(letters[i]);
      u.lang = 'fr-FR';
      u.rate = rate;
      u.onend = () => {
        i++;
        setTimeout(speakNext, 150);
      };
      synth.speak(u);
    }
    speakNext();
  }

  function displayCurrentWord() {
    wordDisplay.textContent = "Mot √† √©couter";
    input.value = "";
    message.textContent = "";
  }

  function playCurrentWord() {
    let w = words[currentIndex];
    speakWord(w, speechRate);
  }

  function checkAnswer() {
    let userAnswer = cleanWord(input.value);
    let correct = cleanWord(words[currentIndex]);

    if (userAnswer === "") {
      message.textContent = "Merci d'√©crire un mot.";
      return false;
    }

    if (userAnswer === correct) {
      message.style.color = "limegreen";
      message.textContent = "‚úÖ Correct !";
      return true;
    } else {
      message.style.color = "#FF5555";
      message.textContent = `‚ùå Incorrect. Voici l'orthographe lettre par lettre :`;
      speakLetterByLetter(correct, 0.8);
      return false;
    }
  }

  function nextWord() {
    currentIndex++;
    if (currentIndex >= words.length) {
      currentIndex = 0;
      alert("Bravo, tu as parcouru toute la liste ! On recommence.");
    }
    displayCurrentWord();
    input.focus();
  }

  btnPlay.addEventListener("click", () => {
    playCurrentWord();
    input.focus();
  });

  btnSlow.addEventListener("click", () => {
    speechRate = Math.max(0.5, speechRate - 0.25);
    message.textContent = `Vitesse ralentie √† ${speechRate.toFixed(2)}`;
  });

  btnFast.addEventListener("click", () => {
    speechRate = Math.min(2.0, speechRate + 0.25);
    message.textContent = `Vitesse acc√©l√©r√©e √† ${speechRate.toFixed(2)}`;
  });

  btnRepeat.addEventListener("click", () => {
    playCurrentWord();
    input.focus();
  });

  btnCheck.addEventListener("click", () => {
    let correct = checkAnswer();
    if (correct) {
      setTimeout(() => {
        nextWord();
      }, 1800);
    }
  });

  btnSkip.addEventListener("click", () => {
    message.textContent = `Le mot √©tait : "${words[currentIndex]}"`;
    nextWord();
  });

  input.addEventListener("keydown", (e) => {
    if (e.key === "Enter") {
      btnCheck.click();
    }
  });

  // Initialisation
  displayCurrentWord();
  input.focus();

</script>
</body>
</html>
