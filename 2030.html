
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Quiz Vocal Math</title>
  <style>
    body { font-family: Arial; text-align: center; background: #f4f4f4; }
    button { margin: 10px; padding: 10px 20px; }
    .question { font-size: 20px; margin: 20px; }
  </style>
</head>
<body>
  <h1>üéôÔ∏è Quiz Vocal de Math√©matiques</h1>
  <div class="question" id="question"></div>
  <div id="feedback"></div>

  <button onclick="lireQuestion()">üîÅ R√©p√©ter</button>
  <button onclick="pauseSpeech()">‚è∏Ô∏è Pause</button>
  <button onclick="changerVitesse(0.5)">üê¢ Ralentir</button>
  <button onclick="changerVitesse(1)">‚öñÔ∏è Normal</button>
  <button onclick="changerVitesse(1.5)">üêá Acc√©l√©rer</button>
  <button onclick="suivant()">‚û°Ô∏è Suivant</button>
  <button onclick="demarrerReconnaissance()">üé§ R√©pondre</button>

<script>
    const questions = [
      "20 + 10 fois 2 moins 5 divis√© par 5",
      "100 divis√© par 4 plus 6 fois 2 moins 5",
      "15 fois 2 plus 8 moins 9 divis√© par 3",
      "80 moins 20 plus 12 divis√© par 3 fois 2",
      "25 plus 15 fois 2 moins 40 divis√© par 4",
      "50 divis√© par 2 plus 8 fois 3 moins 4",
      "60 moins 30 plus 6 divis√© par 3 fois 2",
      "18 plus 6 fois 3 moins 12 divis√© par 4",
      "40 divis√© par 5 plus 3 fois 2 moins 6",
      "36 moins 12 divis√© par 4 plus 7 fois 2"
    ];
    const reponses = [39, 32, 35, 68, 45, 45, 34, 33, 8, 47];

    let index = 0;
    let synth = window.speechSynthesis;
    let vitesse = 1;

    function lireQuestion() {
      let utter = new SpeechSynthesisUtterance(questions[index]);
      utter.rate = vitesse;
      synth.cancel(); synth.speak(utter);
      document.getElementById("question").innerText = questions[index] + " = ?";
    }

    function pauseSpeech() {
      if (synth.speaking) synth.pause();
    }

    function changerVitesse(val) {
      vitesse = val;
      lireQuestion();
    }

    function suivant() {
      index = (index + 1) % questions.length;
      lireQuestion();
      document.getElementById("feedback").innerText = "";
    }

    function demarrerReconnaissance() {

const recognition = new webkitSpeechRecognition();
      recognition.lang = "fr-FR";
      recognition.onresult = function(event) {
        const reponseUtilisateur = parseInt(event.results[0][0].transcript);
        if (reponseUtilisateur === reponses[index]) {
          document.getElementById("feedback").innerText = "‚úÖ Bonne r√©ponse !";
        } else {
          document.getElementById("feedback").innerText = "‚ùå Mauvaise r√©ponse. R√©ponse correcte : " + reponses[index];
          let utter = new SpeechSynthesisUtterance("La bonne r√©ponse est " + reponses[index]);
          synth.speak(utter);
        }
      };
      recognition.start();
    }

    window.onload = lireQuestion;
  </script>
</body>
</html>
