<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Dictée Vocale Interactive</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
    }
    button {
      margin: 5px;
      padding: 10px 15px;
    }
    select {
      margin-top: 10px;
      padding: 5px;
    }
    #fullText {
      margin-top: 20px;
      padding: 15px;
      border: 1px solid #ccc;
      background: #f9f9f9;
      white-space: pre-wrap;
      display: none;
    }
  </style>
</head>
<body>
  <h1>Dictée Vocale Interactive</h1>

  <label for="dictationSelect">Choisissez une dictée :</label>
  <select id="dictationSelect">
    <option value="1">Dictée 1 - Le Laboureur et ses enfants</option>
    <option value="2">Dictée 2 - La Cigale et la Fourmi</option>
    <option value="3">Dictée 3 - Le Lièvre et la Tortue</option>
    <option value="4">Dictée 4 - Le Corbeau et le Renard</option>
    <option value="5">Dictée 5 - La Grenouille et le Bœuf</option>
    <option value="6">Dictée 6 - La Fourmi et la Sauterelle</option>
    <option value="7">Dictée 7 - Rien ne sert de courir</option>
    <option value="9">Dictée 9 - Le Loup et l’Agneau</option>
    <option value="10">Dictée 10 - Le Héron</option>
    <option value="11">Dictée 11 - Le Lion et le Rat</option>
  </select>

  <div>
    <button onclick="speak()">Lire</button>
    <button onclick="pauseSpeech()">Pause</button>
    <button onclick="resumeSpeech()">Reprendre</button>
    <button onclick="stopSpeech()">Arrêter</button>
    <button onclick="repeatSpeech()">Répéter</button>
    <button onclick="speedDown()">Ralentir</button>
    <button onclick="speedUp()">Accélérer</button>
    <button onclick="showFullText()">Vérifier la dictée</button>
  </div>

  <div id="fullText"></div>

  <script>
    const dictations = {
      1: `Dictée 1 – Le laboureur et ses enfants : ...`, // Remplace par le texte complet (déjà donné)
      2: `Dictée 2 – La Cigale et la Fourmi : ...`,       // Idem pour les autres
      3: `Dictée 3 – Le Lièvre et la Tortue : ...`,
      4: `Dictée 4 – Le Corbeau et le Renard : ...`,
      5: `Dictée 5 – La Grenouille et le Bœuf : ...`,
      6: `Dictée 6 – La Fourmi et la Sauterelle : ...`,
      7: `Dictée 7 – Rien ne sert de courir : ...`,
      9: `Dictée 9 – Le Loup et l’Agneau : ...`,
      10: `Dictée 10 – Le Héron : ...`,
      11: `Dictée 11 – Le Lion et le Rat : ...`
    };

    let currentUtterance;
    const synth = window.speechSynthesis;
    let currentRate = 1;

    function speak() {
      stopSpeech();
      const selectedId = document.getElementById("dictationSelect").value;
      const text = dictations[selectedId];
      currentUtterance = new SpeechSynthesisUtterance(text);
      currentUtterance.lang = 'fr-FR';
      currentUtterance.rate = currentRate;
      synth.speak(currentUtterance);
    }

    function pauseSpeech() {
      if (synth.speaking && !synth.paused) synth.pause();
    }

    function resumeSpeech() {
      if (synth.paused) synth.resume();
    }

    function stopSpeech() {
      if (synth.speaking) synth.cancel();
    }

    function repeatSpeech() {
      speak();
    }

    function showFullText() {
      const selectedId = document.getElementById("dictationSelect").value;
      const fullTextDiv = document.getElementById("fullText");
      fullTextDiv.textContent = dictations[selectedId];
      fullTextDiv.style.display = 'block';
    }

    function speedUp() {
      if (currentRate < 2) {
        currentRate += 0.1;
        speak();
      }
    }

    function speedDown() {
      if (currentRate > 0.5) {
        currentRate -= 0.1;
        speak();
      }
    }
  </script>
</body>
</html>

